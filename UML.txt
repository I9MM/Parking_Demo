═══════════════════════════════════════════════════════════════════════
                    PARKING MANAGEMENT SYSTEM - UML DIAGRAM
═══════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────┐
│                          CLASS DIAGRAM                               │
└─────────────────────────────────────────────────────────────────────┘


╔═══════════════════════════════════════════════════════════════════╗
║                         MODEL LAYER                                ║
╚═══════════════════════════════════════════════════════════════════╝

┌────────────────────────────────┐
│        <<enumeration>>          │
│            Role                 │
├────────────────────────────────┤
│ + ADMIN                        │
│ + ENTRY_OPERATOR               │
│ + EXIT_OPERATOR                │
└────────────────────────────────┘


┌────────────────────────────────────────────────────────────┐
│                       User                                  │
│                   <<abstract>>                              │
├────────────────────────────────────────────────────────────┤
│ - id: int                                                   │
│ - name: String                                              │
│ - password: String                                          │
│ - role: Role                                                │
├────────────────────────────────────────────────────────────┤
│ + User(id: int, name: String, password: String, role: Role)│
│ + getId(): int                                              │
│ + getName(): String                                         │
│ + getPassword(): String                                     │
│ + getRole(): Role                                           │
│ + authenticate(password: String): boolean                   │
└────────────────────────────────────────────────────────────┘
                           △
                           │
                           │ extends
        ┌──────────────────┼──────────────────┐
        │                  │                  │
        │                  │                  │
┌───────▼────────┐  ┌──────▼──────┐  ┌───────▼────────┐
│     Admin      │  │EntryOperator│  │  ExitOperator  │
├────────────────┤  ├─────────────┤  ├────────────────┤
│ - userRepo:    │  │             │  │                │
│   UserRepo     │  │             │  │                │
│  (transient)   │  │             │  │                │
├────────────────┤  ├─────────────┤  ├────────────────┤
│ + addOperator()│  │ + issueTicket│ │ + processPayment│
│ + deleteOperator│ │   (ticket:   │ │   (ticket:     │
│ + getAllOperators│ │    Ticket)   │ │    Ticket,     │
│                │  │              │  │    rate:double)│
│                │  │              │  │ + processExit()│
└────────────────┘  └──────────────┘  └────────────────┘


┌────────────────────────────────────────────────────────────┐
│                        Car                                  │
├────────────────────────────────────────────────────────────┤
│ - ownerName: String                                         │
│ - nId: String                                               │
│ - plateNumber: String                                       │
├────────────────────────────────────────────────────────────┤
│ + Car(ownerName: String, nId: String, plateNumber: String) │
│ + getOwnerName(): String                                    │
│ + getNId(): String                                          │
│ + getPlateNumber(): String                                  │
└────────────────────────────────────────────────────────────┘


┌────────────────────────────────────────────────────────────┐
│                    ParkingSpot                              │
├────────────────────────────────────────────────────────────┤
│ - spotId: int                                               │
│ - isOccupied: boolean                                       │
│ - hourlyRate: double                                        │
├────────────────────────────────────────────────────────────┤
│ + ParkingSpot(spotId: int)                                  │
│ + ParkingSpot(spotId: int, hourlyRate: double)             │
│ + getSpotId(): int                                          │
│ + isOccupied(): boolean                                     │
│ + occupy(): void                                            │
│ + release(): void                                           │
│ + getHourlyRate(): double                                   │
│ + setHourlyRate(rate: double): void                         │
└────────────────────────────────────────────────────────────┘


┌────────────────────────────────────────────────────────────┐
│                       Ticket                                │
├────────────────────────────────────────────────────────────┤
│ - counter: int {static}                                     │
│ - entryId: int                                              │
│ - car: Car                                                  │
│ - timeIn: LocalDateTime                                     │
│ - timeOut: LocalDateTime                                    │
│ - payment: double                                           │
│ - spotId: int                                               │
├────────────────────────────────────────────────────────────┤
│ + Ticket(car: Car)                                          │
│ + calculatePayment(): double                                │
│ + calculatePayment(hourlyRate: double): double             │
│ + getEntryId(): int                                         │
│ + getCar(): Car                                             │
│ + getTimeIn(): LocalDateTime                                │
│ + getTimeOut(): LocalDateTime                               │
│ + setTimeOut(time: LocalDateTime): void                     │
│ + getPayment(): double                                      │
│ + setPayment(amount: double): void                          │
│ + getSpotId(): int                                          │
│ + setSpotId(id: int): void                                  │
└────────────────────────────────────────────────────────────┘
                    │
                    │ 1
                    │ has
                    │
                    │ 1
            ┌───────▼────────┐
            │      Car       │
            └────────────────┘


╔═══════════════════════════════════════════════════════════════════╗
║                      REPOSITORY LAYER                              ║
╚═══════════════════════════════════════════════════════════════════╝

┌────────────────────────────────────────────────────────────┐
│              Repository<T>                                  │
│              <<interface>>                                  │
├────────────────────────────────────────────────────────────┤
│ + save(entity: T): void                                     │
│ + saveAll(entities: List<T>): void                          │
│ + loadAll(): List<T>                                        │
│ + delete(entity: T): void                                   │
│ + clear(): void                                             │
└────────────────────────────────────────────────────────────┘
                           △
                           │
                           │ implements
        ┌──────────────────┼──────────────────┐
        │                  │                  │
┌───────▼────────┐  ┌──────▼──────────┐  ┌───▼────────────┐
│  UserRepository│  │TicketRepository │  │ParkingSpot     │
│                │  │                 │  │Repository      │
├────────────────┤  ├─────────────────┤  ├────────────────┤
│ - FILE_PATH:   │  │ - FILE_PATH:    │  │ - FILE_PATH:   │
│   "users.txt"  │  │   "tickets.txt" │  │   "parking_    │
│                │  │                 │  │    spots.txt"  │
├────────────────┤  ├─────────────────┤  ├────────────────┤
│ + findById()   │  │ + findById()    │  │ + findById()   │
│ + findByName() │  │                 │  │                │
└────────────────┘  └─────────────────┘  └────────────────┘


╔═══════════════════════════════════════════════════════════════════╗
║                      SECURITY LAYER                                ║
╚═══════════════════════════════════════════════════════════════════╝

┌────────────────────────────────────────────────────────────┐
│        <<enumeration>>                                      │
│           Permission                                        │
├────────────────────────────────────────────────────────────┤
│ + ADD_PARKING_SPOT                                          │
│ + REMOVE_PARKING_SPOT                                       │
│ + VIEW_FREE_SPOTS                                           │
│ + ISSUE_TICKET                                              │
│ + PROCESS_EXIT                                              │
│ + CALCULATE_PAYMENT                                         │
│ + VIEW_ALL_TICKETS                                          │
└────────────────────────────────────────────────────────────┘


┌────────────────────────────────────────────────────────────┐
│        AuthorizationService                                 │
│        <<Singleton>>                                        │
├────────────────────────────────────────────────────────────┤
│ - instance: AuthorizationService {static}                   │
│ - currentUser: User                                         │
│ - permissions: Map<Role, Set<Permission>>                   │
├────────────────────────────────────────────────────────────┤
│ + getInstance(): AuthorizationService {static}              │
│ + login(user: User): void                                   │
│ + logout(): void                                            │
│ + hasPermission(permission: Permission): boolean            │
│ + checkPermission(permission: Permission): void             │
│ + getCurrentUser(): User                                    │
└────────────────────────────────────────────────────────────┘


┌────────────────────────────────────────────────────────────┐
│        UnauthorizedException                                │
│        extends Exception                                    │
├────────────────────────────────────────────────────────────┤
│ + UnauthorizedException(message: String)                    │
└────────────────────────────────────────────────────────────┘


╔═══════════════════════════════════════════════════════════════════╗
║                      SERVICE LAYER                                 ║
╚═══════════════════════════════════════════════════════════════════╝

┌────────────────────────────────────────────────────────────┐
│              ParkingService                                 │
├────────────────────────────────────────────────────────────┤
│ - spotRepository: ParkingSpotRepository                     │
│ - ticketRepository: TicketRepository                        │
│ - authService: AuthorizationService                         │
│ - spots: List<ParkingSpot>                                  │
│ - tickets: List<Ticket>                                     │
├────────────────────────────────────────────────────────────┤
│ + addSpot(spot: ParkingSpot): boolean                       │
│ + removeSpot(spotId: int): void                             │
│ + showFreeSpots(): void                                     │
│ + getNextFreeSpot(): ParkingSpot                            │
│ + assignTicket(ticket: Ticket): void                        │
│ + processExit(ticketId: int): void                          │
│ + getAllTickets(): List<Ticket>                             │
│ + getAllTicketsForExit(): List<Ticket>                      │
│ + getAllSpots(): List<ParkingSpot>                          │
│ + findTicketById(id: int): Ticket                           │
│ + deleteTicket(ticketId: int): void                         │
│ + confirmPayment(ticketId: int): void                       │
│ + saveSpotsData(): void                                     │
└────────────────────────────────────────────────────────────┘
          │
          │ uses
          ▼
┌────────────────────┐    ┌────────────────────┐    ┌──────────────┐
│ParkingSpotRepository│    │TicketRepository    │    │Authorization │
│                    │    │                    │    │  Service     │
└────────────────────┘    └────────────────────┘    └──────────────┘


╔═══════════════════════════════════════════════════════════════════╗
║                          UI LAYER                                  ║
╚═══════════════════════════════════════════════════════════════════╝

┌────────────────────────────────────────────────────────────┐
│              LoginFrame                                     │
│              extends JFrame                                 │
├────────────────────────────────────────────────────────────┤
│ - parkingService: ParkingService                            │
│ - userRepository: UserRepository                            │
│ - usernameField: JTextField                                 │
│ - passwordField: JPasswordField                             │
│ - roleComboBox: JComboBox<String>                           │
├────────────────────────────────────────────────────────────┤
│ + LoginFrame(service: ParkingService)                       │
│ - authenticateUser(): void                                  │
│ - loadUserCredentials(): void                               │
└────────────────────────────────────────────────────────────┘
          │
          │ navigates to
          ▼
┌──────────────────┐  ┌─────────────────────┐  ┌──────────────────┐
│  AdminDashboard  │  │EntryOperatorDashboard│ │ExitOperatorDash │
│ extends JFrame   │  │  extends JFrame      │ │  extends JFrame  │
├──────────────────┤  ├─────────────────────┤  ├──────────────────┤
│ - parkingService │  │ - parkingService    │  │ - parkingService │
│ - admin: Admin   │  │ - operator:         │  │ - operator:      │
│ - ticketsTable   │  │   EntryOperator     │  │   ExitOperator   │
│ - spotsTable     │  │ - spotsTable        │  │ - ticketIdField  │
│ - usersTable     │  │ - ownerField        │  │ - detailsArea    │
│                  │  │ - nidField          │  │ - invoicesTable  │
│                  │  │ - plateField        │  │ - confirmPayment │
│                  │  │                     │  │   Button         │
├──────────────────┤  ├─────────────────────┤  ├──────────────────┤
│ + createSpots    │  │ + createTicket      │  │ + processExit()  │
│   Panel()        │  │   Panel()           │  │ + confirmPayment │
│ + addParkingSpot │  │ + issueTicket()     │  │   ()             │
│ + editSpotRate() │  │ + loadFreeSpots()   │  │ + loadInvoices() │
│ + deleteTicket() │  │                     │  │                  │
│ + addUser()      │  │                     │  │                  │
│ + deleteUser()   │  │                     │  │                  │
└──────────────────┘  └─────────────────────┘  └──────────────────┘


┌─────────────────────────────────────────────────────────────────────┐
│                      SEQUENCE DIAGRAM                                │
└─────────────────────────────────────────────────────────────────────┘

╔═══════════════════════════════════════════════════════════════════╗
║        Use Case: Entry Operator Issues Ticket                     ║
╚═══════════════════════════════════════════════════════════════════╝

EntryOperator   EntryOperator    Parking        Parking      Ticket
Dashboard       (model)          Service        Spot         Repository
    │               │               │              │              │
    │ issueTicket() │               │              │              │
    ├───────────────┼──────────────>│              │              │
    │               │               │getNextFree   │              │
    │               │               │Spot()        │              │
    │               │               ├─────────────>│              │
    │               │               │              │              │
    │               │               │<─────────────┤              │
    │               │               │ spot         │              │
    │               │               │              │              │
    │               │  new Ticket() │              │              │
    │               │  <────────────┤              │              │
    │               │               │              │              │
    │               │ assignTicket()│              │              │
    │               ├──────────────>│              │              │
    │               │               │save(ticket)  │              │
    │               │               ├──────────────┼─────────────>│
    │               │               │              │              │
    │<──────────────┴───────────────┴──────────────┴──────────────┤
    │        Success Message                                       │
    │                                                               │


╔═══════════════════════════════════════════════════════════════════╗
║        Use Case: Exit Operator Processes Payment                  ║
╚═══════════════════════════════════════════════════════════════════╝

ExitOperator    ExitOperator     Parking       Parking      Ticket
Dashboard       (model)          Service       Spot         Repository
    │               │               │             │              │
    │ processExit() │               │             │              │
    ├───────────────┼──────────────>│             │              │
    │               │               │findTicketById()            │
    │               │               ├────────────┼──────────────>│
    │               │               │            │              │
    │               │               │<───────────┼───────────────┤
    │               │               │  ticket    │              │
    │               │               │            │              │
    │               │processPayment()            │              │
    │               │  (ticket, rate)            │              │
    │               │<──────────────┤            │              │
    │               │               │            │              │
    │<──────────────┴───────────────┤            │              │
    │    Display Invoice            │            │              │
    │                               │            │              │
    │ confirmPayment()              │            │              │
    ├───────────────────────────────┼───────────>│              │
    │                               │ release()  │              │
    │                               ├───────────>│              │
    │                               │            │              │
    │                               │removeTicket()             │
    │                               ├────────────┼──────────────>│
    │<──────────────────────────────┴────────────┴───────────────┤
    │        Success Message                                     │
    │                                                             │


╔═══════════════════════════════════════════════════════════════════╗
║        Use Case: Admin Manages Parking Spots                      ║
╚═══════════════════════════════════════════════════════════════════╝

Admin          Admin          Parking        Authorization   Parking
Dashboard      (model)        Service        Service         Spot Repo
    │             │              │                │              │
    │ addSpot()   │              │                │              │
    ├─────────────┼─────────────>│                │              │
    │             │              │checkPermission()              │
    │             │              ├───────────────>│              │
    │             │              │                │              │
    │             │              │<───────────────┤              │
    │             │              │  authorized    │              │
    │             │              │                │              │
    │             │              │  save(spot)    │              │
    │             │              ├────────────────┼─────────────>│
    │             │              │                │              │
    │<────────────┴──────────────┴────────────────┴──────────────┤
    │        Success / Already Exists                            │
    │                                                             │


┌─────────────────────────────────────────────────────────────────────┐
│                    STATE DIAGRAM                                     │
└─────────────────────────────────────────────────────────────────────┘

╔═══════════════════════════════════════════════════════════════════╗
║                    Parking Spot States                             ║
╚═══════════════════════════════════════════════════════════════════╝

                    ┌──────────┐
                    │  START   │
                    └────┬─────┘
                         │
                         ▼
                    ┌─────────┐
            ┌──────>│  FREE   │<──────┐
            │       └────┬────┘       │
            │            │             │
            │       occupy()      release()
            │            │             │
            │            ▼             │
            │       ┌─────────┐       │
            └───────│OCCUPIED │───────┘
                    └─────────┘


╔═══════════════════════════════════════════════════════════════════╗
║                      Ticket Lifecycle                              ║
╚═══════════════════════════════════════════════════════════════════╝

                    ┌──────────┐
                    │  START   │
                    └────┬─────┘
                         │
                   new Ticket()
                         │
                         ▼
                    ┌─────────┐
                    │ CREATED │
                    │(timeIn) │
                    └────┬────┘
                         │
                   assignTicket()
                         │
                         ▼
                    ┌─────────┐
                    │ ACTIVE  │
                    │(parked) │
                    └────┬────┘
                         │
                  processPayment()
                         │
                         ▼
                    ┌──────────┐
                    │CALCULATED│
                    │(timeOut, │
                    │ payment) │
                    └────┬─────┘
                         │
                  confirmPayment()
                         │
                         ▼
                    ┌──────────┐
                    │ COMPLETED│
                    │(removed) │
                    └────┬─────┘
                         │
                         ▼
                    ┌──────────┐
                    │   END    │
                    └──────────┘


┌─────────────────────────────────────────────────────────────────────┐
│                  COMPONENT DIAGRAM                                   │
└─────────────────────────────────────────────────────────────────────┘

╔═════════════════════════════════════════════════════════════════╗
║                    System Architecture                           ║
╚═════════════════════════════════════════════════════════════════╝

┌─────────────────────────────────────────────────────────────────┐
│                      Presentation Layer                          │
│  ┌──────────────┐  ┌─────────────────┐  ┌──────────────────┐  │
│  │ LoginFrame   │  │ AdminDashboard  │  │EntryOperator     │  │
│  │              │  │                 │  │Dashboard         │  │
│  └──────────────┘  └─────────────────┘  └──────────────────┘  │
│                                                                 │
│  ┌──────────────────┐                                          │
│  │ExitOperator      │                                          │
│  │Dashboard         │                                          │
│  └──────────────────┘                                          │
└────────────────────────┬────────────────────────────────────────┘
                         │
                         │ uses
                         ▼
┌─────────────────────────────────────────────────────────────────┐
│                      Business Logic Layer                        │
│  ┌────────────────────────────────────────────────────────┐    │
│  │              ParkingService                             │    │
│  │  - Manages parking operations                          │    │
│  │  - Enforces business rules                             │    │
│  │  - Coordinates between layers                          │    │
│  └────────────────────────────────────────────────────────┘    │
└────────────────────────┬────────────────────────────────────────┘
                         │
                         │ uses
                         ▼
┌─────────────────────────────────────────────────────────────────┐
│                      Security Layer                              │
│  ┌────────────────────────────────────────────────────────┐    │
│  │        AuthorizationService (Singleton)                │    │
│  │  - Role-based access control                          │    │
│  │  - Permission checking                                 │    │
│  │  - Session management                                  │    │
│  └────────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────────┘
                         │
                         │ uses
                         ▼
┌─────────────────────────────────────────────────────────────────┐
│                      Data Access Layer                           │
│  ┌──────────────┐  ┌─────────────────┐  ┌──────────────────┐  │
│  │UserRepository│  │TicketRepository │  │ParkingSpot       │  │
│  │              │  │                 │  │Repository        │  │
│  └──────────────┘  └─────────────────┘  └──────────────────┘  │
└────────────────────────┬────────────────────────────────────────┘
                         │
                         │ reads/writes
                         ▼
┌─────────────────────────────────────────────────────────────────┐
│                      Data Storage Layer                          │
│  ┌──────────────┐  ┌─────────────────┐  ┌──────────────────┐  │
│  │ users.txt    │  │ tickets.txt     │  │ parking_spots.txt│  │
│  └──────────────┘  └─────────────────┘  └──────────────────┘  │
└─────────────────────────────────────────────────────────────────┘


┌─────────────────────────────────────────────────────────────────────┐
│                  DEPLOYMENT DIAGRAM                                  │
└─────────────────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────┐
│                    Client Machine                              │
│  ┌──────────────────────────────────────────────────────┐    │
│  │             Java Virtual Machine (JVM)                │    │
│  │  ┌────────────────────────────────────────────────┐  │    │
│  │  │      Parking Management System.jar             │  │    │
│  │  │  ┌──────────────────────────────────────────┐  │  │    │
│  │  │  │  UI Components (Swing)                    │  │  │    │
│  │  │  │  - LoginFrame                            │  │  │    │
│  │  │  │  - AdminDashboard                        │  │  │    │
│  │  │  │  - EntryOperatorDashboard                │  │  │    │
│  │  │  │  - ExitOperatorDashboard                 │  │  │    │
│  │  │  └──────────────────────────────────────────┘  │  │    │
│  │  │  ┌──────────────────────────────────────────┐  │  │    │
│  │  │  │  Business Logic                           │  │  │    │
│  │  │  │  - ParkingService                        │  │  │    │
│  │  │  │  - AuthorizationService                  │  │  │    │
│  │  │  └──────────────────────────────────────────┘  │  │    │
│  │  │  ┌──────────────────────────────────────────┐  │  │    │
│  │  │  │  Data Access Layer                        │  │  │    │
│  │  │  │  - Repositories                          │  │  │    │
│  │  │  └──────────────────────────────────────────┘  │  │    │
│  │  └────────────────────────────────────────────────┘  │    │
│  └──────────────────────────────────────────────────────┘    │
│                           │                                    │
│                           │ file I/O                           │
│                           ▼                                    │
│  ┌──────────────────────────────────────────────────────┐    │
│  │              File System (data/)                      │    │
│  │  - users.txt                                          │    │
│  │  - tickets.txt                                        │    │
│  │  - parking_spots.txt                                  │    │
│  └──────────────────────────────────────────────────────┘    │
└───────────────────────────────────────────────────────────────┘


┌─────────────────────────────────────────────────────────────────────┐
│                    USE CASE DIAGRAM                                  │
└─────────────────────────────────────────────────────────────────────┘

                        Parking Management System

    ┌──────────┐                                        ┌──────────┐
    │  Admin   │                                        │  Entry   │
    │          │                                        │ Operator │
    └────┬─────┘                                        └────┬─────┘
         │                                                   │
         │  ┌───────────────────────────────────────┐       │
         ├─>│ Manage Parking Spots                 │       │
         │  │ - Add Spot                           │       │
         │  │ - Remove Spot                        │       │
         │  │ - Edit Hourly Rate                   │       │
         │  └───────────────────────────────────────┘       │
         │                                                   │
         │  ┌───────────────────────────────────────┐       │
         ├─>│ Manage Users                         │       │
         │  │ - Add User                           │       │
         │  │ - Delete User                        │       │
         │  │ - View All Users                     │       │
         │  └───────────────────────────────────────┘       │
         │                                                   │
         │  ┌───────────────────────────────────────┐       │
         ├─>│ Manage Tickets                       │       │
         │  │ - View All Tickets                   │       │
         │  │ - Delete Ticket                      │       │
         │  └───────────────────────────────────────┘       │
         │                                                   │
         │                                                   │
         │                                          ┌────────▼──────────┐
         │                                          │ Issue Ticket      │
         │                                          │ - View Free Spots │
         │                                          │ - Enter Car Info  │
         │                                          │ - Select Spot     │
         │                                          │   (Auto/Manual)   │
         │                                          └───────────────────┘
         │                                                   
         │                                          
    ┌────▼─────┐                                   ┌──────────┐
    │  Exit    │                                   │ System   │
    │ Operator │                                   │          │
    └────┬─────┘                                   └────┬─────┘
         │                                              │
         │  ┌───────────────────────────────────────┐  │
         ├─>│ Process Exit                         │  │
         │  │ - Enter Ticket ID                    │  │
         │  │ - Calculate Payment                  │  │
         │  │ - Display Invoice                    │  │
         │  └───────────────────────────────────────┘  │
         │                                              │
         │  ┌───────────────────────────────────────┐  │
         ├─>│ Confirm Payment                      │  │
         │  │ - Release Parking Spot               │  │
         │  │ - Remove Ticket                      │  │
         │  └───────────────────────────────────────┘  │
         │                                              │
         │  ┌───────────────────────────────────────┐  │
         └─>│ View All Invoices                    │  │
            │ - See All Tickets                    │  │
            │ - View Total Amount                  │  │
            └───────────────────────────────────────┘  │
                                                        │
            ┌───────────────────────────────────────┐  │
            │ Authenticate Users                    │<─┘
            │ - Login                              │
            │ - Logout                             │
            │ - Check Permissions                  │
            └───────────────────────────────────────┘


┌─────────────────────────────────────────────────────────────────────┐
│                    ACTIVITY DIAGRAM                                  │
└─────────────────────────────────────────────────────────────────────┘

╔═══════════════════════════════════════════════════════════════════╗
║           Activity: Complete Parking Cycle                         ║
╚═══════════════════════════════════════════════════════════════════╝

                        ┌──────────┐
                        │  START   │
                        └────┬─────┘
                             │
                             ▼
                    ┌────────────────┐
                    │  User Login    │
                    └────────┬───────┘
                             │
                             ▼
                    ┌────────────────┐
                    │ Authenticate   │
                    └────┬───────────┘
                         │
           ┌─────────────┼─────────────┐
           │             │             │
      ┌────▼────┐   ┌────▼────┐  ┌────▼────┐
      │ Admin   │   │ Entry   │  │  Exit   │
      │  Role   │   │Operator │  │Operator │
      └────┬────┘   └────┬────┘  └────┬────┘
           │             │             │
           │             ▼             │
           │   ┌──────────────────┐   │
           │   │ View Free Spots  │   │
           │   └─────────┬────────┘   │
           │             │             │
           │             ▼             │
           │   ┌──────────────────┐   │
           │   │ Enter Car Info   │   │
           │   └─────────┬────────┘   │
           │             │             │
           │             ▼             │
           │   ┌──────────────────┐   │
           │   │ Select Spot      │   │
           │   │ (Auto/Manual)    │   │
           │   └─────────┬────────┘   │
           │             │             │
           │             ▼             │
           │   ┌──────────────────┐   │
           │   │ Issue Ticket     │   │
           │   │ (Save Spot ID)   │   │
           │   └─────────┬────────┘   │
           │             │             │
           │             │             ▼
           │             │   ┌──────────────────┐
           │             │   │ Enter Ticket ID  │
           │             │   └─────────┬────────┘
           │             │             │
           │             │             ▼
           │             │   ┌──────────────────┐
           │             │   │ Calculate Payment│
           │             │   │ (Hourly Rate ×   │
           │             │   │  Hours)          │
           │             │   └─────────┬────────┘
           │             │             │
           │             │             ▼
           │             │   ┌──────────────────┐
           │             │   │ Display Invoice  │
           │             │   │ (Entry Time,     │
           │             │   │  Exit Time,      │
           │             │   │  Spot, Rate)     │
           │             │   └─────────┬────────┘
           │             │             │
           │             │             ▼
           │             │   ┌──────────────────┐
           │             │   │ Confirm Payment  │
           │             │   └─────────┬────────┘
           │             │             │
           │             │             ▼
           │             │   ┌──────────────────┐
           │             │   │ Release Spot     │
           │             │   └─────────┬────────┘
           │             │             │
           │             │             ▼
           │             │   ┌──────────────────┐
           │             │   │ Remove Ticket    │
           │             │   └─────────┬────────┘
           │             │             │
      ┌────▼────┐        │             │
      │ Manage  │        │             │
      │ System  │        │             │
      │ - Spots │        │             │
      │ - Users │        │             │
      │ - Rates │        │             │
      └────┬────┘        │             │
           │             │             │
           └─────────────┴─────────────┘
                         │
                         ▼
                  ┌──────────┐
                  │  Logout  │
                  └────┬─────┘
                       │
                       ▼
                  ┌──────────┐
                  │   END    │
                  └──────────┘


═══════════════════════════════════════════════════════════════════════
                          RELATIONSHIPS SUMMARY
═══════════════════════════════════════════════════════════════════════

┌───────────────────────────────────────────────────────────────────┐
│ INHERITANCE (IS-A)                                                 │
├───────────────────────────────────────────────────────────────────┤
│ - Admin           extends User                                     │
│ - EntryOperator   extends User                                     │
│ - ExitOperator    extends User                                     │
│ - UnauthorizedException extends Exception                          │
└───────────────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────────┐
│ COMPOSITION (HAS-A)                                                │
├───────────────────────────────────────────────────────────────────┤
│ - Ticket          has-a  Car                    (1:1)              │
│ - User            has-a  Role                   (1:1)              │
└───────────────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────────┐
│ AGGREGATION (USES-A)                                               │
├───────────────────────────────────────────────────────────────────┤
│ - ParkingService  uses   ParkingSpotRepository  (1:1)              │
│ - ParkingService  uses   TicketRepository       (1:1)              │
│ - ParkingService  uses   AuthorizationService   (1:1)              │
│ - ParkingService  manages List<ParkingSpot>     (1:*)              │
│ - ParkingService  manages List<Ticket>          (1:*)              │
│ - Admin           uses   UserRepository         (1:1)              │
│ - All Dashboards  uses   ParkingService         (1:1)              │
└───────────────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────────┐
│ IMPLEMENTATION (IMPLEMENTS)                                        │
├───────────────────────────────────────────────────────────────────┤
│ - UserRepository        implements  Repository<User>               │
│ - TicketRepository      implements  Repository<Ticket>             │
│ - ParkingSpotRepository implements  Repository<ParkingSpot>        │
└───────────────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────────┐
│ ASSOCIATION                                                        │
├───────────────────────────────────────────────────────────────────┤
│ - Ticket    associated with  ParkingSpot (via spotId)              │
│ - User      associated with  Permission  (via Role)                │
└───────────────────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════════════
                          DESIGN PATTERNS USED
═══════════════════════════════════════════════════════════════════════

1. SINGLETON PATTERN
   - AuthorizationService (ensures single instance)

2. REPOSITORY PATTERN
   - Repository<T> interface
   - UserRepository, TicketRepository, ParkingSpotRepository
   - Abstracts data access logic

3. MVC PATTERN (Modified)
   - Model: User, Ticket, ParkingSpot, Car
   - View: LoginFrame, AdminDashboard, EntryOperatorDashboard, 
           ExitOperatorDashboard
   - Controller: ParkingService

4. FACTORY PATTERN (Implicit)
   - Ticket creation through constructors
   - ParkingSpot instantiation

5. STRATEGY PATTERN (Implicit)
   - Different payment calculation strategies based on hourly rate

═══════════════════════════════════════════════════════════════════════
                              END OF UML
═══════════════════════════════════════════════════════════════════════
